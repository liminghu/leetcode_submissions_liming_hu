{"id":1380523393,"question_id":56,"lang":"cpp","lang_name":"C++","time":"5 months","timestamp":1725581410,"status":10,"status_display":"Accepted","runtime":"287 ms","url":"/submissions/detail/1380523393/","is_pending":"Not Pending","title":"Merge Intervals","memory":"92 MB","code":"/*对于区间合并的题目，一般都会采用和252类似的“扫描线”算法。对于每一个区间[a,b]，我们在a时刻记录+1，在b时刻记录-1. 然后我们再在时间轴上顺次遍历每一个时间点，\n统计这些+1和-1的总和。我们会发现当sum从0变为正数时，意味着一个merged interval的开始；当sum从正数变成0时，意味着一个merged interval的结束。\n这样就巧妙地把所有存在overlap的区间都合并到了一起。\n\n需要注意的是，对于相同的时刻，如果同时存在多个+1或者-1，应该先处理+1后处理-１。比如[a,b]和[b,c]两个区间，在处理b时刻时，按照先+1再-1的顺序，\n就不会出现sum=0的情况了，也就避免了merged interval在b处断开。\n*/\nclass Solution {\npublic:\n   static bool cmp(vector<int> a, vector<int> b) {\n        if(a[0] == b[0])\n            return a[1] > b[1];\n        else\n            return a[0] < b[0];\n    }\n    vector<vector<int>> merge(vector<vector<int>>& intervals) {\n     vector<vector<int>> diff;\n     for(auto& interval:intervals) {\n        diff.push_back({interval[0], 1});\n         diff.push_back({interval[1], -1});\n     };\n     sort(diff.begin(), diff.end(), cmp);\n     vector<vector<int>> result;\n     int start=0, end=0;\n     int sum = 0;\n     for(int i=0; i<diff.size(); i++) {\n        if(sum==0 && diff[i][1] == 1) {\n            start = diff[i][0];\n        }else if(sum ==1  && diff[i][1] == -1) {\n            end = diff[i][0];\n            result.push_back({start,end});\n        }\n        sum += diff[i][1];\n     };\n     return result;\n\n     /*   sort(intervals.begin(), intervals.end());\n        vector<vector<int>> merged;\n        for(auto interval: intervals) {\n            if(merged.empty() || merged.back()[1] < interval[0])\n                merged.push_back(interval);\n            else {\n                merged.back()[1] = max(merged.back()[1], interval[1]);\n            }\n        }\n        return merged;*/\n        \n    }\n};","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"merge-intervals","has_notes":false,"flag_type":1}