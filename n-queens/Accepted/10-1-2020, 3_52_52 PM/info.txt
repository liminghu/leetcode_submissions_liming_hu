{"id":403276421,"question_id":51,"lang":"cpp","lang_name":"C++","time":"4 years, 4 months","timestamp":1601592772,"status":10,"status_display":"Accepted","runtime":"0 ms","url":"/submissions/detail/403276421/","is_pending":"Not Pending","title":"N-Queens","memory":"7.9 MB","code":"\nclass Solution {\npublic:\n    vector<vector<string>> solveNQueens(int n) {\n\t\t\tsols_.clear();\n\t\t\tboard_ = vector<string>(n, string(n,'.'));\n\t\t\tcols_ = vector<int>(n,0);\n\t\t\tdiag1_ = vector<int>(2*n-1,0);\n\t\t\tdiag2_ = vector<int>(2*n-1,0);\n\t\t\t\n\t\t\tnqueens(n, 0);\n\t\t\t\n\t\t\treturn sols_;\n    }\nprivate:\n\tvector<string> board_;\n\tvector<int> cols_;\n\tvector<int> diag1_;\n\tvector<int> diag2_;\n\tvector<vector<string>> sols_;\n\t\n\t//try to put the queen on y-th row.\n\tvoid nqueens(const int n, const int y) {\n\t\tif( y == n) {\n\t\t\t//find one solution, add to the ans set.\n\t\t\tsols_.push_back(board_);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t//try every column\n\t\tfor(int x=0; x<n; x++) {\n\t\t\tif(!available(x,y,n) ) continue;\n\t\t\tupdateBoard(x,y,n,true);\n\t\t\tnqueens(n, y+1); \n\t\t\tupdateBoard(x,y,n,false); //backtracking\n\t\t}\n\t}\n\t\n\tbool available(int x, int y, int n) {\n\t\treturn !cols_[x] && !diag1_[x+y] && !diag2_[x+n-1-y];\n\t}\n\t\n\tvoid updateBoard(int x,int y,int n,bool is_put) {\n\t\tcols_[x] = is_put;\n\t\tdiag1_[x+y] = is_put; \n\t\tdiag2_[x+n-1-y] = is_put;\n\t\tboard_[y][x] = is_put? 'Q' : '.';\n\t}\n\t\n};","compare_result":"111111111","title_slug":"n-queens","has_notes":false,"flag_type":1}