{"id":394293632,"question_id":37,"lang":"cpp","lang_name":"C++","time":"4 years, 4 months","timestamp":1599848552,"status":10,"status_display":"Accepted","runtime":"4 ms","url":"/submissions/detail/394293632/","is_pending":"Not Pending","title":"Sudoku Solver","memory":"6.5 MB","code":"\n\nclass Solution {\npublic:\n    void solveSudoku(vector<vector<char>>& board) {\n       //DFS+backtracking\n\t   //store constraints.\n\t   rows_ = vector<vector<int>>(9, vector<int>(10)); //1: used. 0: not used.\n\t   cols_ = vector<vector<int>>(9, vector<int>(10));\n\t   boxes_ = vector<vector<int>>(9, vector<int>(10));\n\t   \n\t   //initialize the constraints.\n\t   for(int i = 0; i<9; i++)\n\t\t   for(int j = 0; j<9; j++) {\n\t\t\t   const char c = board[i][j];\n\t\t\t   if(c != '.') {\n\t\t\t\t\tint n = c - '0';\n\t\t\t\t\tint bx = j / 3;\n\t\t\t\t\tint by = i / 3;\n\t\t\t\t\trows_[i][n] = 1; //used.\n\t\t\t\t\tcols_[j][n] = 1;\n\t\t\t\t\tboxes_[by *3 + bx][n] = 1;\n\t\t\t   }\n\t\t   }\n\t\tfill(board, 0, 0);\n\t\t\n    }\nprivate:\n\tvector<vector<int>> rows_;\n\tvector<vector<int>> cols_;\n\tvector<vector<int>> boxes_;\n\tbool fill(vector<vector<char>>& board, int x, int y) {\n\t\tif(y==9) //we filled all.\n\t\t\treturn true; \n\t\t\n\t\t//next pos.\n\t\tint nx =(x + 1) % 9;\n\t\tint ny = (nx == 0) ? y + 1 : y;  //next row?\n\t\t\n\t\tif(board[y][x] != '.' ) return fill(board, nx, ny);\n\t\t\n\t\t//try all possible char.\n\t\tfor(int i=1; i<=9; i++) {\n\t\t\tint bx = x / 3;\n\t\t\tint by = y / 3;\t\n\t\t\tint box_key = by *3 + bx;\n\t\t\tif(!rows_[y][i] && !cols_[x][i] && !boxes_[box_key][i]) {\n\t\t\t\t\trows_[y][i] = 1; //used.\n\t\t\t\t\tcols_[x][i] = 1;\n\t\t\t\t\tboxes_[box_key][i] = 1;\n\t\t\t\t\tboard[y][x] = i+ '0';\n\t\t\t\t\tif (fill(board, nx, ny)) return true;\n\t\t\t\t\tboard[y][x] = '.';  //backtracking.\n\t\t\t\t\trows_[y][i] = 0; //not used.\n\t\t\t\t\tcols_[x][i] = 0;\n\t\t\t\t\tboxes_[box_key][i] = 0;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n};\n","compare_result":"111111","title_slug":"sudoku-solver","has_notes":false,"flag_type":1}