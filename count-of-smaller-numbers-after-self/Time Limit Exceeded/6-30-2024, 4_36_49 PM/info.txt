{"id":1305248957,"question_id":315,"lang":"cpp","lang_name":"C++","time":"7 months, 1 week","timestamp":1719790609,"status":14,"status_display":"Time Limit Exceeded","runtime":"N/A","url":"/submissions/detail/1305248957/","is_pending":"Not Pending","title":"Count of Smaller Numbers After Self","memory":"N/A","code":"class Solution {\npublic:\n//Given an integer array nums, return an integer array counts where \n//counts[i] is the number of smaller elements to the right of nums[i].\nstruct BSTNode {\n    int val;\n    int count;\n    int left_count;\n    BSTNode* left;\n    BSTNode* right;    \n    BSTNode(int val): val(val), count(1), left_count(0), left{nullptr}, right{nullptr} {}\n    ~BSTNode() { delete left; delete right; }\n    int less_or_equal() const { return count + left_count; }\n};\n    vector<int> countSmaller(vector<int>& nums) { //1 <= nums.length <= 105\n                                                  //-104 <= nums[i] <= 104\n       if (nums.empty()) return {};\n        std::reverse(nums.begin(), nums.end());\n        std::unique_ptr<BSTNode> root(new BSTNode(nums[0]));\n        vector<int> ans{0};\n        for (int i = 1; i < nums.size(); ++i)\n            ans.push_back(insert(root.get(), nums[i]));\n        std::reverse(ans.begin(), ans.end());\n        return ans;        \n    }\nprivate:\n    // Returns the number of elements smaller than val under root.\n    int insert(BSTNode* root, int val) {\n        if (root->val == val) {\n            ++root->count;\n            return root->left_count;\n        } else if (val < root->val) {\n            ++root->left_count;\n            if (root->left == nullptr) {\n                root->left = new BSTNode(val);            \n                return 0;\n            } \n            return insert(root->left, val);\n        } else  {\n            if (root->right == nullptr) {\n                root->right = new BSTNode(val);\n                return root->less_or_equal();\n            }\n            return root->less_or_equal() + insert(root->right, val);\n        }\n    }    \n};","compare_result":"111111111111111111111111111111111111111111111111111111111111111000","title_slug":"count-of-smaller-numbers-after-self","has_notes":false,"flag_type":1}