{"id":1472124756,"question_id":3217,"lang":"cpp","lang_name":"C++","time":"2Â months","timestamp":1733514584,"status":10,"status_display":"Accepted","runtime":"251 ms","url":"/submissions/detail/1472124756/","is_pending":"Not Pending","title":"Number of Possible Sets of Closing Branches","memory":"82.9 MB","code":"class Solution {\npublic:\n    int numberOfSets(int n, int maxDistance, vector<vector<int>>& roads) {\n        //where roads[i] = [ui, vi, wi] represents the undirected road between branches ui and vi with length wi.\n        int ret = 0;\n        for(int state=0; state<(1<<n); state++) {\n            vector<vector<int>> dist(n, vector<int>(n, INT_MAX/3));\n            for(int i=0; i<n; i++) {\n                if( ((state>>i)&1)==0 ) continue;\n                dist[i][i] = 0;\n            }\n            for(auto road:roads) {   //Floyd algorithm.\n                int start = road[0]; \n                int end = road[1];\n                int w = road[2];\n                if( ((state>>start)&1)==0 ) continue;\n                if( ((state>>end)&1)==0 ) continue;\n                for(int i=0; i<n; i++) {\n                   if( ((state>>i)&1)==0 ) continue;\n                   for(int j=0; j<n; j++) {\n                        if( ((state>>j)&1)==0 ) continue;\n                        dist[i][j] = min(dist[i][j], dist[i][start]+w+dist[end][j]); \n                        dist[i][j] = min(dist[i][j], dist[i][end]+w+dist[start][j]); \n                   } \n                }\n            }\n            int flag = 1;\n            for(int i=0; i<n; i++) {\n                if( ((state>>i)&1)==0 ) continue;\n                for(int j=0; j<n; j++) {\n                    if( ((state>>j)&1)==0 ) continue;\n                    if(dist[i][j] > maxDistance) {\n                        flag = 0;\n                        break;\n                    }\n                }\n                if(flag==0)\n                    break; \n            }\n            if(flag==1)\n                ret++;\n        }\n        return ret;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"number-of-possible-sets-of-closing-branches","has_notes":false,"flag_type":1}