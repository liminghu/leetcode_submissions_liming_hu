{"id":1294998574,"question_id":1038,"lang":"cpp","lang_name":"C++","time":"7 months, 3 weeks","timestamp":1718915922,"status":10,"status_display":"Accepted","runtime":"4 ms","url":"/submissions/detail/1294998574/","is_pending":"Not Pending","title":"Number of Squareful Arrays","memory":"9.5 MB","code":"class Solution {\npublic:\nunordered_map<int, int> count;\n    unordered_map<int, unordered_set<int>> cand;\n    int res = 0;\n    int numSquarefulPerms(vector<int>& A) {\n        for (int &a : A) count[a]++;\n        for (auto &i : count) {\n            for (auto &j : count) {\n                int x = i.first, y = j.first, s = sqrt(x + y);\n                if (s * s == x + y)\n                    cand[x].insert(y);\n            }\n        }\n        for (auto e : count)\n            dfs(e.first, A.size() - 1);\n        return res;\n    }\n\n    void dfs(int x, int left) {\n        count[x]--;\n        if (!left) res++;\n        for (int y : cand[x])\n            if (count[y] > 0)\n                dfs(y, left - 1);\n        count[x]++;\n    }\n};","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"number-of-squareful-arrays","has_notes":false,"flag_type":1}