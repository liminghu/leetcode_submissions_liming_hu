{"id":1530395796,"question_id":2357,"lang":"cpp","lang_name":"C++","time":"3 days, 16 hours","timestamp":1738629998,"status":10,"status_display":"Accepted","runtime":"93 ms","url":"/submissions/detail/1530395796/","is_pending":"Not Pending","title":"Count Integers in Intervals","memory":"194 MB","code":"class CountIntervals {\nmap<int, int> intervals; //key: start, value: end.\nint cnt = 0;\npublic:\n    CountIntervals() {\n        \n    }\n    \n    void add(int left, int right) {\n        auto it = intervals.upper_bound(left);\n        if(it!=intervals.begin() && prev(it)->second >= left)\n            it = prev(it);\n        while(it!=intervals.end() && it->first <= right) {\n            left = min(left, it->first);\n            right = max(right, it->second);\n            cnt -= it->second - it->first + 1;\n            it = intervals.erase(it); //it points to its next.\n        }\n        cnt += right-left+1;\n        intervals[left] = right;\n        //cout << \"left: \" << left << \" right: \" << right << endl;\n        //cout << \"count:\" << cnt << endl;\n    }\n    \n    int count() {\n        return cnt;\n    }\n};\n\n/**\n * Your CountIntervals object will be instantiated and called as such:\n * CountIntervals* obj = new CountIntervals();\n * obj->add(left,right);\n * int param_2 = obj->count();\n */","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"count-integers-in-intervals","has_notes":false,"flag_type":1}