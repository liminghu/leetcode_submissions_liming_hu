{"id":1430843824,"question_id":1559,"lang":"cpp","lang_name":"C++","time":"3 months, 2 weeks","timestamp":1729631080,"status":10,"status_display":"Accepted","runtime":"105 ms","url":"/submissions/detail/1430843824/","is_pending":"Not Pending","title":"Cherry Pickup II","memory":"19.5 MB","code":"/*\nYou are given a rows x cols matrix grid representing a field of cherries where grid[i][j] represents the number of cherries \nthat you can collect from the (i, j) cell.\n\nYou have two robots that can collect cherries for you:\n\nRobot #1 is located at the top-left corner (0, 0), and\nRobot #2 is located at the top-right corner (0, cols - 1).\nReturn the maximum number of cherries collection using both robots by following the rules below:\n\nFrom a cell (i, j), robots can move to cell (i + 1, j - 1), (i + 1, j), or (i + 1, j + 1).\nWhen any robot passes through a cell, It picks up all cherries, and the cell becomes an empty cell.\nWhen both robots stay in the same cell, only one takes the cherries.\nBoth robots cannot move outside of the grid at any moment.\nBoth robots should reach the bottom row in grid.\n \nExample 1:\nInput: grid = [[3,1,1],[2,5,1],[1,5,5],[2,1,1]]\nOutput: 24\nExplanation: Path of robot #1 and #2 are described in color green and blue respectively.\nCherries taken by Robot #1, (3 + 2 + 5 + 2) = 12.\nCherries taken by Robot #2, (1 + 5 + 5 + 1) = 12.\nTotal of cherries: 12 + 12 = 24.\n\nExample 2:\nInput: grid = [[1,0,0,0,0,0,1],[2,0,0,0,0,3,0],[2,0,9,0,0,0,0],[0,3,0,5,4,0,0],[1,0,2,3,0,0,6]]\nOutput: 28\nExplanation: Path of robot #1 and #2 are described in color green and blue respectively.\nCherries taken by Robot #1, (1 + 9 + 5 + 2) = 17.\nCherries taken by Robot #2, (1 + 3 + 4 + 3) = 11.\nTotal of cherries: 17 + 11 = 28.\n \nConstraints:\nrows == grid.length\ncols == grid[i].length\n2 <= rows, cols <= 70\n0 <= grid[i][j] <= 100\n*/\nclass Solution {\npublic:\n    int cherryPickup(vector<vector<int>>& grid) {\n        int m = grid.size();\n        int n = grid[0].size();\n        //for a given row, the maximum number of cherries collection using both robots at i, j\n        auto dp = vector<vector<int>>(n, vector<int>(n, INT_MIN));\n        dp[0][n-1] = grid[0][0] + grid[0][n-1];\n        for(int r=1; r<m; r++) {\n            auto dp_old = dp;\n            for(int i=0; i<n; i++) {\n                for(int j=0; j<n; j++) {\n                    for(int a = i-1; a<=i+1; a++) {\n                        for(int b = j-1; b<=j+1; b++) {\n                            if(a<0|| a>=n || b<0 || b>=n)\n                                continue;\n                            if(i!=j) \n                                dp[i][j] = max(dp[i][j], dp_old[a][b]+grid[r][i]+grid[r][j]);\n                            else\n                                dp[i][j] = max(dp[i][j], dp_old[a][b]+grid[r][i]);\n                        }\n                    }\n                }\n            }\n        }\n        int ret = INT_MIN;\n        for(int i=0; i<n; i++) {\n                for(int j=0; j<n; j++) {\n                    ret = max(ret, dp[i][j]);\n                }\n        }\n        return ret;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111","title_slug":"cherry-pickup-ii","has_notes":false,"flag_type":1}