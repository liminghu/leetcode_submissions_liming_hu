{"id":1479179483,"question_id":1917,"lang":"cpp","lang_name":"C++","time":"1 month, 3 weeks","timestamp":1734243915,"status":10,"status_display":"Accepted","runtime":"318 ms","url":"/submissions/detail/1479179483/","is_pending":"Not Pending","title":"Maximum Average Pass Ratio","memory":"97.9 MB","code":"struct cmp{\n    bool operator()(pair<double,double> a, pair<double,double> b ) {\n        double ad = (a.first+1)/(a.second+1)-a.first/a.second;\n        double bd = (b.first+1)/(b.second+1)-b.first/b.second;\n        return ad < bd;\n    }\n};\nclass Solution {\npublic:\n    double maxAverageRatio(vector<vector<int>>& classes, int extraStudents) {\n        //classes[i] = [passi, totali]. You know beforehand that in the ith class, there are totali total students, but only passi number of students will pass the exam.\n        priority_queue<pair<double,double>, vector<pair<double,double>>, cmp> pq;\n        for(int i=0; i<classes.size(); i++) {\n            pq.push({classes[i][0], classes[i][1]});\n        };\n        int i=0;\n        while(i<extraStudents) {\n            pair<double,double> cur = pq.top();\n            pq.pop();\n            double passi = cur.first+1;\n            double totali = cur.second+1;\n            pq.push({passi, totali});\n            i++;\n        }; \n        double avgRatio = 0;\n        while(!pq.empty()) {\n            pair<double,double> cur = pq.top();\n            pq.pop();\n            double passratioi = cur.first/cur.second;\n            avgRatio += passratioi;\n        };\n        return avgRatio/classes.size();\n    }\n};","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"maximum-average-pass-ratio","has_notes":false,"flag_type":1}