{"id":1485750348,"question_id":3181,"lang":"cpp","lang_name":"C++","time":"1 month, 2 weeks","timestamp":1734898993,"status":10,"status_display":"Accepted","runtime":"264 ms","url":"/submissions/detail/1485750348/","is_pending":"Not Pending","title":"Find Building Where Alice and Bob Can Meet","memory":"288.2 MB","code":"class Solution {\npublic:\n    vector<int> leftmostBuildingQueries(vector<int>& heights, vector<vector<int>>& queries) {\n        int n = heights.size();\n        //queries[i] = [ai, bi]. \n        for(int i=0; i<queries.size(); i++) {\n            if(queries[i][0] > queries[i][1])\n                swap(queries[i][0], queries[i][1]);\n            queries[i].push_back(i);\n        };\n        sort(queries.begin(), queries.end(), [](vector<int>&q1, vector<int>& q2) {return q1[1] > q2[1]; }); \n        vector<int> rets(queries.size(), -1);\n        int i=n-1;\n        map<int, int> mp; //height-> idx\n        for(auto& q: queries) {\n            int a = q[0], b = q[1], idx = q[2];\n            while(i>=b) {\n                while(!mp.empty() && heights[i] >= (mp.begin()->first))\n                    mp.erase(mp.begin());\n                mp[heights[i]] = i;\n                i--;\n            };\n            if(heights[a]<heights[b] || a == b) {\n                rets[idx] = b;\n                continue;\n            }\n            int mh = max(heights[a], heights[b]);\n            auto iter = mp.upper_bound(mh);\n            if(iter != mp.end())\n                rets[idx] = iter->second;\n            else\n                rets[idx] = -1;\n        }\n        return rets;\n    }\n};","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"find-building-where-alice-and-bob-can-meet","has_notes":false,"flag_type":1}