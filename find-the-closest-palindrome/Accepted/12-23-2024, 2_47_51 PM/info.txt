{"id":1486686080,"question_id":564,"lang":"cpp","lang_name":"C++","time":"1 month, 2 weeks","timestamp":1734994071,"status":10,"status_display":"Accepted","runtime":"0 ms","url":"/submissions/detail/1486686080/","is_pending":"Not Pending","title":"Find the Closest Palindrome","memory":"8.4 MB","code":"class Solution {\npublic:\n    string nearestPalindromic(string n) { //1 <= n.length <= 18\n        int len = n.size();\n        int i =  len%2 == 0? len/2-1: len/2;\n        long firstHalf = stol(n.substr(0, i+1));\n        vector<long> possibities(5, 0);\n        possibities[0] = halftoPalin(firstHalf, len%2==0);\n        possibities[1] = halftoPalin(firstHalf+1, len%2==0);\n        possibities[2] = halftoPalin(firstHalf-1, len%2==0);        \n        possibities[3] = (long)pow(10, len-1)-1;  \n        possibities[4] = (long)pow(10, len)+1;    \n        long diff = LONG_MAX; \n        long res = 0;\n        long nl = stol(n);\n        for(long cand:possibities) {\n            if(cand==nl)\n                continue;\n            if(abs(cand-nl)<diff) {\n                diff = abs(cand-nl);\n                res = cand;\n            } else if(abs(cand-nl)==diff) {\n                res = min(res,cand);\n            }\n        }    \n        return to_string(res);\n    }\n    long halftoPalin(long left, bool even) {\n        long res = left;\n        if(!even) \n            left = left/10;\n        while(left) {\n            res = res*10 + left%10;\n            left = left/10;\n        }\n        return res;\n    }\n};","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"find-the-closest-palindrome","has_notes":false,"flag_type":1}