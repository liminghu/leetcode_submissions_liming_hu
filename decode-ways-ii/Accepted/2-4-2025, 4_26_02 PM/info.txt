{"id":1531642617,"question_id":639,"lang":"cpp","lang_name":"C++","time":"2 days, 16 hours","timestamp":1738715162,"status":10,"status_display":"Accepted","runtime":"7 ms","url":"/submissions/detail/1531642617/","is_pending":"Not Pending","title":"Decode Ways II","memory":"26.4 MB","code":"using LL = long long;\nclass Solution {\n    int M = 1e9+7;\npublic:\n    int numDecodings(string s) {//s consisting of digits and '*' characters, return the number of ways to decode it.\n        int n = s.length();\n        vector<LL> dp(n+1, 0);\n\n        dp[0] = 1;\n        if(s[0]=='0') //invalid\n            return 0;\n        dp[1] = s[0]=='*'? 9: 1;\n\n        for(int i=2; i<=n; i++) {\n            char first = s[i-2];\n            char second = s[i-1];\n            if( second == '*' )\n                dp[i] += 9 * dp[i-1];\n            else if(second>'0')\n                dp[i] += dp[i-1];\n            \n            if(first == '*') {\n                if(second=='*')\n                    dp[i] += 15*dp[i-2]; //9+6\n                else if(second<='6')\n                    dp[i] += 2*dp[i-2]; //1, 2\n                else\n                    dp[i]+= dp[i-2];\n            } else if(first =='1' || first == '2') {\n                if(second=='*') {\n                    if(first=='1')\n                        dp[i]+=9*dp[i-2];\n                    else\n                        dp[i]+=6*dp[i-2];\n                } else if( (first-'0')*10+(second-'0')<=26 )\n                    dp[i] +=dp[i-2];\n            }\n            dp[i]%=M;\n        }\n        return (int)dp[n];\n        \n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"decode-ways-ii","has_notes":false,"flag_type":1}