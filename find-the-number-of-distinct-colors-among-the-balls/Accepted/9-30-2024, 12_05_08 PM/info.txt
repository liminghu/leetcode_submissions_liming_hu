{"id":1407456462,"question_id":3434,"lang":"cpp","lang_name":"C++","time":"4 months, 1 week","timestamp":1727723108,"status":10,"status_display":"Accepted","runtime":"328 ms","url":"/submissions/detail/1407456462/","is_pending":"Not Pending","title":"Find the Number of Distinct Colors Among the Balls","memory":"155.3 MB","code":"/*\nYou are given an integer limit and a 2D array queries of size n x 2.\nThere are limit + 1 balls with distinct labels in the range [0, limit]. Initially, all balls are uncolored. \nFor every query in queries that is of the form [x, y], you mark ball x with the color y. After each query, \nyou need to find the number of distinct colors among the balls.\nReturn an array result of length n, where result[i] denotes the number of distinct colors after ith query.\nNote that when answering a query, lack of a color will not be considered as a color.\n1 <= limit <= 109\n1 <= n == queries.length <= 105\nqueries[i].length == 2\n0 <= queries[i][0] <= limit\n1 <= queries[i][1] <= 109\n */\nclass Solution {\npublic:\n    vector<int> queryResults(int limit, vector<vector<int>>& queries) { //queries: ball, color\n        int n = queries.size();\n        vector<int> ans(n, 0);\n        unordered_map<int, int> ball_color;   //ball, color.\n        unordered_map<int, int> color_ball;  //color, num of balls ....\n        for(int i=0; i<n; i++) {\n            int ball_i = queries[i][0];\n            int color_i = queries[i][1];\n\n            if(ball_color.find(ball_i)!= ball_color.end()) { //it has been colored before.\n                int prevcolor = ball_color[ball_i];\n                color_ball[prevcolor]--;\n                if(color_ball[prevcolor] == 0) \n                    color_ball.erase(prevcolor);   \n            } \n            \n            ball_color[ball_i] = color_i;  \n            color_ball[color_i]++;   //color, ball\n            ans[i] = color_ball.size();\n        };\n\n        return ans;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"find-the-number-of-distinct-colors-among-the-balls","has_notes":false,"flag_type":1}