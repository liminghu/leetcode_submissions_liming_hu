{"id":1391388927,"question_id":1122,"lang":"cpp","lang_name":"C++","time":"4 months, 3 weeks","timestamp":1726429573,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/1391388927/","is_pending":"Not Pending","title":"Longest Duplicate Substring","memory":"N/A","code":"/*\nGiven a string s, consider all duplicated substrings: (contiguous) substrings\n of s that occur 2 or more times. The occurrences may overlap.\nReturn any duplicated substring that has the longest possible length. If s \ndoes not have a duplicated substring, the answer is \"\".\nConstraints:\n2 <= s.length <= 3 * 104\ns consists of lowercase English letters.\n*/\ntypedef uint64_t ULL; //unsigned integer type with width of exactly 64 bits.\n\nclass Solution {\n    unordered_map<int, int> len2start;\npublic:\n    string longestDupSubstring(string s) {\n        int l = 1;\n        int r = s.length()-1;\n        while(l < r) {\n            int m = r - (r-l)/2;\n            if( found(s, m) )\n                l = m;\n            else\n                r = m-1;\n        }\n        if( found(s, l) )\n            return s.substr( len2start[l], l);\n        else\n            return \"\";\n    }\n    bool found(string s, int len) {\n        unordered_set<ULL> Set;\n        ULL base = 26;\n        ULL hash = 0;\n\n        ULL pow_base_len = 1;\n        for(int i=0; i<len; i++) \n            pow_base_len *= base; \n        \n        for(int i=0; i<s.length(); i++) {\n            hash = hash * base + s[i] - 'a';\n            if( i >= len ) \n               hash = hash - pow_base_len * (s[i-len] - 'a');  \n            \n            if( i >= len - 1) {\n                if( Set.find(hash) != Set.end() ) {\n                    len2start[len] = i - len + 1;\n                    return true; \n                }\n                Set.insert(hash);\n            }\n        }\n        return false;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111001","title_slug":"longest-duplicate-substring","has_notes":false,"flag_type":1}