{"id":1277007103,"question_id":304,"lang":"cpp","lang_name":"C++","time":"8 months, 1 week","timestamp":1717473430,"status":10,"status_display":"Accepted","runtime":"301 ms","url":"/submissions/detail/1277007103/","is_pending":"Not Pending","title":"Range Sum Query 2D - Immutable","memory":"149 MB","code":"class NumMatrix {\nprivate:\n    vector<vector<int>> myMatrix;\n    vector<vector<int>> sum;\npublic:\n    NumMatrix(vector<vector<int>>& matrix) {\n        int rows = matrix.size();\n        int cols = matrix[0].size();\n\n        myMatrix = vector<vector<int>>(rows, vector<int>(cols,0));\n        myMatrix = matrix;\n        sum = vector<vector<int>>(rows, vector<int>(cols,0));\n\n        int i=0; sum[0][0] = myMatrix[0][0];\n        for(int j=1; j<cols; j++) {   //first row.\n            sum[0][j] = sum[0][j-1]+myMatrix[0][j];\n        };   \n        for(int i=1; i<rows; i++) {   //first col\n            sum[i][0] = sum[i-1][0]+myMatrix[i][0];\n        };   \n\n        for(int i=1; i<rows; i++) {\n            for(int j=1; j<cols; j++) {\n                sum[i][j] = sum[i][j-1]+sum[i-1][j]-sum[i-1][j-1]+myMatrix[i][j];\n            }        \n        }\n\n\n    }\n    \n    int sumRegion(int row1, int col1, int row2, int col2) { //You must design an algorithm where sumRegion works on O(1) time complexity.\n        int ans=0;\n        if(row1>=1 && col1 >=1) {\n            ans = sum[row2][col2]+sum[row1-1][col1-1]-sum[row2][col1-1]-sum[row1-1][col2];\n        } else if(row1==0 && col1 >=1) {\n            ans = sum[row2][col2]-sum[row2][col1-1];\n        } else if(row1>=1 && col1 ==0) {\n            ans = sum[row2][col2]-sum[row1-1][col2];\n        }else { //rows == 0; col1==0\n            ans = sum[row2][col2];\n        }\n        \n        return ans;\n    }\n};\n\n/**\n * Your NumMatrix object will be instantiated and called as such:\n * NumMatrix* obj = new NumMatrix(matrix);\n * int param_1 = obj->sumRegion(row1,col1,row2,col2);\n */","compare_result":"1111111111111111111111","title_slug":"range-sum-query-2d-immutable","has_notes":false,"flag_type":1}